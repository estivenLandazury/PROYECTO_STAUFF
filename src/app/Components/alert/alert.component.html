<!DOCTYPE  html>
<html>

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title> Curriculom</title>

  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
    crossorigin="anonymous">

  <!-- iconos-->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.2.0/css/all.css" integrity="sha384-hWVjflwFxL6sNzntih27bfxkr27PmbbK/iSvJ+a4+0owXq79v+lsFkW54bOGbiDQ"
    crossorigin="anonymous">

  <link rel="icon" type="image/png" href="https://previews.123rf.com/images/ylivdesign/ylivdesign1710/ylivdesign171001798/87385395-lupa-sobre-el-curr%C3%ADculum-vita-icon-digital-red.jpg" />




</head>

<body>



  <div class="row">
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-primary">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
                <i class="fas fa-check fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">{{totalAlarmasResueltas}}</div>
              <div>Alarmas Resueltas!</div>
            </div>
          </div>
        </div>
        <button class="btn btn" (click)="obtenerAlarmasResueltas()">
          <div class="panel-footer">
            <span class="pull-left">Ver detalles</span>
            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
            <div class="clearfix"></div>
          </div>
        </button>
      </div>
    </div>
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-green">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fas fa-list-ul fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">{{todasLasAlarmas}}</div>
              <div>Todas Las Alarmas!</div>
            </div>
          </div>
        </div>
        <button class="btn btn" (click)="obtenerALarmas()">
          <div class="panel-footer">
            <span class="pull-left">Ver detalles</span>
            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
            <div class="clearfix"></div>
          </div>
        </button>
      </div>
    </div>
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-yellow">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fas fa-times fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">{{totalAlarmasSinResolver}}</div>
              <div>Alarmas sin Resolver</div>
            </div>
          </div>
        </div>
        <button class="btn btn" (click)="obtenerAlrmasSinTerminar()">
          <div class="panel-footer">
            <span class="pull-left">Ver detalles</span>
            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
            <div class="clearfix"></div>
          </div>
        </button>
      </div>
    </div>





    <!-- 
    <div class="col-lg-3 col-md-6">
      <div class="panel panel-red">
        <div class="panel-heading">
          <div class="row">
            <div class="col-xs-3">
              <i class="fas fa-exclamation-triangle fa-5x"></i>
            </div>
            <div class="col-xs-9 text-right">
              <div class="huge">13</div>
              <div>Videos Recientes!</div>
            </div>
          </div>
        </div>
        <a href="#about">
          <div class="panel-footer">
            <span class="pull-left">Ver detalles</span>
            <span class="pull-right"><i class="fa fa-arrow-circle-right"></i></span>
            <div class="clearfix"></div>
          </div>
        </a>
      </div>
    </div>
    -->
  </div>


<div id="TituloTabla"> <Strong>{{tipoAlrma1}} Alarmas {{tipoAlarma}}</Strong></div>

  <div id="SCROLL">


      <div id="tableScroll">
          <div class="table-responsive">
            <table class="table table-hover">
              <thead >
                <tr>
                  <th scope="col">Descripción</th>
                  <th scope="col">Atendida</th>
                  <th scope="col">Fecha Registro</th>
                  <th scope="col">Acción</th>
                </tr>
      
              </thead>
              <tbody>
                <tr *ngFor="let alarma of alarmas">
                  <td> {{alarma.descripcion}}</td>
                  <td> {{alarma.solucionado}}</td>
                  <td> {{alarma.fechaRegistro}}</td>
                  <td>
      
                    <!-- <a [routerLink]="['/Admin/Actualizar_Usuario']" class="btn btn-success ml-3">Editar</a> -->
      
                    <div id="botones">
                        <a class="btn btn-info" data-toggle="collapse" aria-expanded="false" (click)="openModal(template)">Editar</a>
                        <a class="btn btn-info" data-toggle="collapse" aria-expanded="false" aria-controls="collapseExample"
                          (click)="dettalleAlarma(alarma.appMovil,templa)">Información</a>
                      </div>
                    <!-- <a [routerLink]="['/Admin/Añadir_Usuario']" class="btn btn-success ml-3">Agregar</a>-->
                  </td>

                  <ng-template #template>
                      <div class="modal-header">
                        <h4 class="modal-title pull-left">Resolver Alarma</h4>
                        <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
                          <span aria-hidden="true">&times;</span>
                        </button>
                      </div>
                      <div class="modal-body">
                        <form>
                          <div class="form-group">
                            <div class="form-group">
                                <label for="exampleInputEmail1">Descripción</label>
            
                                <textarea name="descripcion" [(ngModel)]="descripcion" class="form-control rounded-0" id="exampleFormControlTextarea2"   ngmodel required rows="3"></textarea>
                              </div>
                            <small id="emailHelp" class="form-text text-muted">Puede ingresar una descripción asociada a la alarma.</small>
                          </div>
                          
                          <div class="form-check">
                            <input type="checkbox" name="estadoALrma"  [(ngModel)]="estadoALrma" class="form-check-input" id="exampleCheck1"/>
                            <label class="form-check-label" for="exampleCheck1">Alarma Atendida</label>
                          </div>
                          <button type="submit" class="btn btn-primary" (click)="ActualizarAlarma(alarma)">Guardar</button>
                        </form>
                      </div>
            
                    </ng-template>
                    <!-- modal end -->
      
                </tr>
      
              </tbody>
            </table>
          </div>
        </div>
      </div>




      <!--   

    <div class="row card-group my-2">
      <div *ngFor="let alarma of alarmas" class="col-lg-4">
        <div class="card" style="width: 18rem;">
          <img class="card-img-top" src="https://images.unsplash.com/photo-1505619096787-7287f0a3a1ec?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=1f697372f8362cab950e2e9647c86686&auto=format&fit=crop&w=750&q=80"
            alt="Card image cap">
          <div class="card-body">
            <h5 class="card-title">Alarma <br>
              Registro:-{{alarma.fechaRegistro}}</h5>
            <p class="card-text">
              <strong> Atendida:</strong> {{alarma.solucionado}}<br>
              <strong> Descripción:</strong> {{alarma.descripcion}}


              .</p>
            <div id="botones">
              <a class="btn btn-primary" data-toggle="collapse" aria-expanded="false" (click)="openModal(template)">Editar</a>
              <a class="btn btn-primary" data-toggle="collapse" aria-expanded="false" aria-controls="collapseExample"
                (click)="dettalleAlarma(alarma.appMovil,templa)">Información</a>
            </div>
          </div>
        </div>

        

        <ng-template #template>
          <div class="modal-header">
            <h4 class="modal-title pull-left">Modal</h4>
            <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <div class="form-group">
                    <label for="exampleInputEmail1">Descripción</label>

                    <textarea name="descripcion" [(ngModel)]="descripcion" class="form-control rounded-0" id="exampleFormControlTextarea2"   ngmodel required rows="3"></textarea>
                  </div>
                <small id="emailHelp" class="form-text text-muted">Puede ingresar una descripción asociada a la alarma.</small>
              </div>
              
              <div class="form-check">
                <input type="checkbox" name="estadoALrma"  [(ngModel)]="estadoALrma" class="form-check-input" id="exampleCheck1"/>
                <label class="form-check-label" for="exampleCheck1">Alarma Atendida</label>
              </div>
              <button type="submit" class="btn btn-primary" (click)="ActualizarAlarma(alarma)">Guardar</button>
            </form>
          </div>

        </ng-template>
        



      </div>
    </div>
  </div>
    -->



  <!-- Modal para  el botón de información -->


  


  <ng-template #templa>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Información</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <strong>Los Usuarios involucrados en la alarma son: </strong> <br>
      <ul>
        <li *ngFor="let item of usuarios">
          {{item.nombre}} {{item.apellido}} <strong>Identificado con #: </strong>{{item.numeroDocumento}} <br>

        </li>

      </ul>
    </div>
  </ng-template>
  <!-- modal end  boton información-->











</body>

</html>